  <!DOCTYPE html>

<html lang="es">

<head>
  
  <!-- Favicon Compresor de Imágenes -->
<link rel="icon" type="image/x-icon" sizes="32x32" href="favicon.ico">
<link rel="icon" type="image/x-icon" sizes="256x256" href="favicon.ico">
<link rel="apple-touch-icon" href="favicon.ico">
<meta name="theme-color" content="#000000">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Compresor de Imágenes</title>

  <style>
#image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }
:root{

  --bg:#e8f5e9;

  --green:#2e7d32;

  --green-2:#388e3c;

  --accent:#81c784;

  --card:#ffffff;

  --danger:#f44336;

}

html,body{height:100%;margin:0;}

body{
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  font-family: Arial, Helvetica, sans-serif;

  background:var(--bg);

  color:var(--green);

  display:flex;

  align-items:flex-start;

  justify-content:center;

  padding:28px;

}

.wrap{
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  width:100%;

  max-width:640px;

  box-shadow:0 8px 30px rgba(0,0,0,0.08);

  background:linear-gradient(180deg, rgba(255,255,255,0.9), var(--card));

  border-radius:14px;

  padding:20px;

  box-sizing:border-box;

  text-align:center;

}

h2{
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  margin:6px 0 12px;

  font-size:22px;

  color:var(--green-2);

}

.intro{
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  font-size:14px;

  background:#f1f8f1;

  border:1px solid #cfe9cf;

  border-radius:10px;

  padding:12px;

  margin-bottom:16px;

  color:#2e7d32;

  text-align:left;

}

input[type=file]{
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  padding:10px;

  border-radius:8px;

  border:2px solid var(--accent);

  font-size:14px;

  background:white;

  cursor:pointer;

}

button{
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  background:var(--green-2);

  color:white;

  padding:10px 16px;

  border-radius:8px;

  border:none;

  cursor:pointer;

  font-size:14px;

  margin-top:12px;

}

button:hover{background:var(--green);}

#preview img{
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  max-width:100%;

  max-height:300px;

  border-radius:8px;

  margin-top:12px;

  border:1px solid #cfe9cf;

  object-fit:contain;

  display:block;

}

footer{
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  margin-top:18px;

  font-size:13px;

  color:#366a36;

  text-align:center;

}

.box {
  #image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }

  margin-top: 14px;

}

</style>

</head>

<body>

<div class="wrap">

    <div class="intro">

  Esta herramienta online gratuita permite <strong>comprimir imágenes a más del 50% de su tamaño original</strong> 

  directamente desde tu navegador, sin necesidad de instalar programas ni subir archivos a servidores externos. 

  Es rápida, segura y práctica: simplemente selecciona una imagen, deja que el sistema reduzca su peso 

  manteniendo una buena calidad visual, y descárgala lista para usar en tu blog, redes sociales o proyectos. 

  Todo el proceso ocurre en tu dispositivo, garantizando privacidad total de tus archivos.

</div>

  <h2>✨️ Compresor de Imágenes Online</h2>

  <div class="box">

    <input type="file" id="upload" accept="image/*">

    <br>

    <button id="download" style="display:none;">Descargar Comprimida</button>

    <canvas id="canvas" style="display:none;"></canvas>

    <div id="preview"></div>

  </div></div>

  <script>

    const upload = document.getElementById("upload");

    const download = document.getElementById("download");

    const canvas = document.getElementById("canvas");

    const ctx = canvas.getContext("2d");

    const preview = document.getElementById("preview");

    let currentImage;

    upload.addEventListener("change", (e) => {

      const file = e.target.files[0];

      if (!file) return;

      const reader = new FileReader();

      reader.onload = (event) => {

        const img = new Image();

        img.onload = () => {

  canvas.width = img.width;

  canvas.height = img.height;

  ctx.drawImage(img, 0, 0, img.width, img.height);

  // calidad de compresión (0.5 = 70%)

  const compressedData = canvas.toDataURL("image/jpeg", 0.7);

  // calcular tamaños

  const originalKB = (file.size / 1024).toFixed(2);

  const compressedKB = (compressedData.length * (3/4) / 1024).toFixed(2);

  preview.innerHTML = `

    <h4>Vista previa:</h4>

    <img src="${compressedData}">

    <p><strong>Tamaño original:</strong> ${originalKB} KB</p>

    <p><strong>Tamaño comprimido:</strong> ${compressedKB} KB</p>

    <p><strong>Ahorro:</strong> ${(100 - (compressedKB * 100 / originalKB)).toFixed(1)}%</p>

  `;

  

  currentImage = compressedData;

  download.style.display = "inline-block";

};

        img.src = event.target.result;

      };

      reader.readAsDataURL(file);

    });

    download.addEventListener("click", () => {

      const link = document.createElement("a");

      link.download = "imagen_comprimida.jpg";

      link.href = currentImage;

      link.click();

    });

  </script>

</body>

</html>

