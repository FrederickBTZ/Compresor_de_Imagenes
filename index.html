  <!DOCTYPE html>

<html lang="es">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Compresor de Imágenes</title>

 <style>
:root {
  --verde-fondo: #f1f8e9;
  --verde-medio: #66bb6a;
  --verde-oscuro: #2e7d32;
  --texto: #1b5e20;
}

body {
  background-color: var(--verde-fondo);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
  font-family: Arial, sans-serif;
  color: var(--texto);
}

#image-upscaler {
  background: #ffffff;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  border-radius: 10px;
  border: 2px solid var(--verde-medio);
  padding: 24px;
  text-align: center;
  max-width: 400px;
}

button {
  background-color: var(--verde-medio);
  color: #fff;
  border: none;
  padding: 10px 18px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
}

button:hover {
  background-color: var(--verde-oscuro);
}

input[type="file"] {
  border: 2px solid var(--verde-medio);
  border-radius: 6px;
  padding: 8px;
  background-color: #ffffff;
}

h1, h2, h3 {
  color: var(--verde-oscuro);
}
</style>


</head>

<body>
<div id="image-upscaler" style="font-family:Arial,sans-serif; max-width:400px; padding:20px; border:2px solid #4CAF50; border-radius:10px;">

  <h3 style="color:#2E7D32;">✨️ Compresor de Imágenes Online</h3>
   <p style="color:#2E7D32; font-size:14px; line-height:1.4;">
Esta herramienta online gratuita permite comprimir imágenes a más del 50% de su tamaño original directamente desde tu navegador, sin necesidad de instalar programas ni subir archivos a servidores externos. Es rápida, segura y práctica: simplemente selecciona una imagen, deja que el sistema reduzca su peso manteniendo una buena calidad visual, y descárgala lista para usar en tu blog, redes sociales o proyectos. Todo el proceso ocurre en tu dispositivo, garantizando privacidad total de tus archivos.
   </p>
     </div>

  <h2>✨️ Compresor de Imágenes Online</h2>

  <div class="box">

    <input type="file" id="upload" accept="image/*">

    <br>

    <button id="download" style="display:none;">Descargar Comprimida</button>

    <canvas id="canvas" style="display:none;"></canvas>

    <div id="preview"></div>

  </div></div>

  <script>

    const upload = document.getElementById("upload");

    const download = document.getElementById("download");

    const canvas = document.getElementById("canvas");

    const ctx = canvas.getContext("2d");

    const preview = document.getElementById("preview");

    let currentImage;

    upload.addEventListener("change", (e) => {

      const file = e.target.files[0];

      if (!file) return;

      const reader = new FileReader();

      reader.onload = (event) => {

        const img = new Image();

        img.onload = () => {

  canvas.width = img.width;

  canvas.height = img.height;

  ctx.drawImage(img, 0, 0, img.width, img.height);

  // calidad de compresión (0.5 = 70%)

  const compressedData = canvas.toDataURL("image/jpeg", 0.7);

  // calcular tamaños

  const originalKB = (file.size / 1024).toFixed(2);

  const compressedKB = (compressedData.length * (3/4) / 1024).toFixed(2);

  preview.innerHTML = `

    <h4>Vista previa:</h4>

    <img src="${compressedData}">

    <p><strong>Tamaño original:</strong> ${originalKB} KB</p>

    <p><strong>Tamaño comprimido:</strong> ${compressedKB} KB</p>

    <p><strong>Ahorro:</strong> ${(100 - (compressedKB * 100 / originalKB)).toFixed(1)}%</p>

  `;

  

  currentImage = compressedData;

  download.style.display = "inline-block";

};

        img.src = event.target.result;

      };

      reader.readAsDataURL(file);

    });

    download.addEventListener("click", () => {

      const link = document.createElement("a");

      link.download = "imagen_comprimida.jpg";

      link.href = currentImage;

      link.click();

    });

  </script>

</body>

</html>

