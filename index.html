  <!DOCTYPE html>

<html lang="es">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Compresor de Im치genes</title>

 <style>
#image-upscaler { background:#ffffff; box-shadow:0 0 10px rgba(0,0,0,0.1); }
    body {
      background-color: #f1f8e9;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
</style>

</head>

<body>

<div class="wrap">

    <div class="intro">

  Esta herramienta online gratuita permite <strong>comprimir im치genes a m치s del 50% de su tama침o original</strong> 

  directamente desde tu navegador, sin necesidad de instalar programas ni subir archivos a servidores externos. 

  Es r치pida, segura y pr치ctica: simplemente selecciona una imagen, deja que el sistema reduzca su peso 

  manteniendo una buena calidad visual, y desc치rgala lista para usar en tu blog, redes sociales o proyectos. 

  Todo el proceso ocurre en tu dispositivo, garantizando privacidad total de tus archivos.

</div>

  <h2>游댷 Compresor de Im치genes Online</h2>

  <div class="box">

    <input type="file" id="upload" accept="image/*">

    <br>

    <button id="download" style="display:none;">Descargar Comprimida</button>

    <canvas id="canvas" style="display:none;"></canvas>

    <div id="preview"></div>

  </div></div>

  <script>

    const upload = document.getElementById("upload");

    const download = document.getElementById("download");

    const canvas = document.getElementById("canvas");

    const ctx = canvas.getContext("2d");

    const preview = document.getElementById("preview");

    let currentImage;

    upload.addEventListener("change", (e) => {

      const file = e.target.files[0];

      if (!file) return;

      const reader = new FileReader();

      reader.onload = (event) => {

        const img = new Image();

        img.onload = () => {

  canvas.width = img.width;

  canvas.height = img.height;

  ctx.drawImage(img, 0, 0, img.width, img.height);

  // calidad de compresi칩n (0.5 = 70%)

  const compressedData = canvas.toDataURL("image/jpeg", 0.7);

  // calcular tama침os

  const originalKB = (file.size / 1024).toFixed(2);

  const compressedKB = (compressedData.length * (3/4) / 1024).toFixed(2);

  preview.innerHTML = `

    <h4>Vista previa:</h4>

    <img src="${compressedData}">

    <p><strong>Tama침o original:</strong> ${originalKB} KB</p>

    <p><strong>Tama침o comprimido:</strong> ${compressedKB} KB</p>

    <p><strong>Ahorro:</strong> ${(100 - (compressedKB * 100 / originalKB)).toFixed(1)}%</p>

  `;

  

  currentImage = compressedData;

  download.style.display = "inline-block";

};

        img.src = event.target.result;

      };

      reader.readAsDataURL(file);

    });

    download.addEventListener("click", () => {

      const link = document.createElement("a");

      link.download = "imagen_comprimida.jpg";

      link.href = currentImage;

      link.click();

    });

  </script>

</body>

</html>

